---
// 键盘快捷键组件
---

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // 获取搜索面板和输入框
    const searchPanel = document.getElementById('search-panel');
    const searchInput = document.getElementById('search-input');
    
    // 获取音乐播放器元素
    const musicToggle = document.getElementById('music-toggle');
    
    if (!searchPanel || !searchInput) return;
    
    // 监听键盘事件
    document.addEventListener('keydown', (event) => {
      // 如果用户正在输入框中，不触发快捷键
      if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {
        return;
      }
      
      // 按下 ESC 关闭搜索面板
      if (event.key === 'Escape' && !searchPanel.classList.contains('hidden')) {
        searchPanel.classList.add('hidden');
        searchPanel.classList.remove('search-panel-active');
      }
    });
  });
</script> 